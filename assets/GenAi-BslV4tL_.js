import{r as l,j as e,_ as v}from"./index-C7dUaaEM.js";import{G as j}from"./index-BxK1Kcup.js";const m="/demos/assets/chatBot-BrxbOa9v.png",z=()=>{const o=l.useRef(null),[r,h]=l.useState([]);l.useEffect(()=>{o.current.scrollTop=o.current.scrollHeight},[r]);const[n,c]=l.useState(""),[d,i]=l.useState(!1),u="AIzaSyC18YzxeU4JNJpABeBF3y100ncHAgKKzZo",f=new j(u),g=s=>{let t=s;return t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/\[(https.*)\]\((https.*)\)/g,'<a style="color: skyblue" target="_blank" href="$1">$2</a>'),t=t.replace(/```(\w*)([\s\S]*?)```/g,'<code style="background-color: green; padding: 4px;">$1</code><pre style="overflow: auto; padding: 0px 8px; background-color: black"><code>$2</code></pre>'),t=t.replace(/##\s*(.*?)\s*\n/g,"<h2>$1</h2>"),t=t.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),t=t.replace(/\n/g,"<br>"),t},x=async(s="user",t)=>(h(a=>[...a,{role:s,parts:[{text:t}]}]),!0);async function w(){i(!0);const t=f.getGenerativeModel({model:"gemini-1.5-flash"}).startChat({history:[...r,{role:"user",parts:[{text:n}]}]});try{const p=(await(await t.sendMessage(n)).response).text();await x("model",p),console.log("ai response: ",p)}catch(a){console.log(a),v.error("Please try again later...")}finally{c(""),i(!1)}}const b=async s=>{s.preventDefault(),await x("user",n)&&w()};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"h-screen w-screen bg-transparent backdrop-blur-xl flex flex-col justify-start",children:[e.jsxs("main",{ref:o,style:{scrollBehavior:"smooth"},className:"h-[88vh] py-2 overflow-auto w-full flex-col p-4 relative",children:[e.jsxs("div",{className:"flex items-end gap-2 text-sm",children:[e.jsx("img",{src:m,alt:"Chatbot",className:"md:w-[2.2vw] w-[7vw]  select-none"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("span",{className:"rounded-md bg-zinc-800 border border-zinc-400/50 w-max flex flex-col px-4 p-2",children:[e.jsx("span",{children:"Hi there ðŸ‘‹ "}),e.jsxs("span",{children:["Welcome to ",e.jsx("span",{className:"font-bold text-lg",children:"Gen AI"})," "]})]}),e.jsx("span",{className:"rounded-md bg-zinc-800 border border-zinc-400/50 w-max px-4 p-2",children:"How can I help you ?"})]})]}),e.jsx("div",{className:"w-full mt-6",children:r==null?void 0:r.map(s=>{var t,a;return e.jsxs(e.Fragment,{children:[(s==null?void 0:s.role)==="user"&&e.jsx("div",{className:"w-full flex justify-end mt-4 select-none",children:e.jsx("div",{className:"w-full md:w-[75%] flex flex-wrap items-end justify-end gap-2 animate__animated animate__fadeInRight ",children:e.jsx("span",{className:"w-max text-sm px-4 p-1 rounded-md border border-indigo-600 bg-indigo-400 text-white",children:(t=s==null?void 0:s.parts[0])==null?void 0:t.text})})}),(s==null?void 0:s.role)==="model"&&e.jsxs("div",{className:"flex items-end gap-2 mt-4 w-full md:w-[80%] animate__animated animate__fadeInLeft animate__faster",children:[e.jsx("img",{src:m,alt:"Chatbot",className:"md:block hidden md:w-[2.2vw] w-[7vw]  select-none"}),e.jsx("div",{className:"w-full overflow-auto",children:e.jsx("div",{className:"rounded-md bg-zinc-800 border border-zinc-400/50 w-full md:w-[90%] p-2 text-sm md:text-base md:text-start text-justify",dangerouslySetInnerHTML:{__html:g((a=s==null?void 0:s.parts[0])==null?void 0:a.text)}})})]})]})})})]}),e.jsx("div",{className:"w-full text-sm h-[7vh]",children:e.jsx("div",{className:"flex w-full",children:e.jsx("form",{onSubmit:b,className:"flex flex-col w-full",children:e.jsxs("div",{className:"flex w-full",children:[e.jsx("textarea",{value:n,cols:2,style:{resize:"none"},placeholder:"Prompt Here...",type:"text",name:"",id:"",onChange:s=>c(s.target.value),className:"w-full px-2 md:py-1.5 py-1 bg-black/30 focus:outline-none border border-gray-300/40"}),e.jsx("button",{type:"submit",disabled:d,className:"text-sm px-3 py-1.5 bg-green-500 hover:bg-green-600",children:d?"Thinking....":"Go"})]})})})}),e.jsx("div",{className:"mt-3 h-[4vh] md:text-sm text-xs italic text-center",children:"Created By @ R U Bharti"})]})})};export{z as default};
